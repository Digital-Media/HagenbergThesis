
%% This file is part of the Hagenberg Thesis package
%% Author: Wilhelm Burger (wilbur@ieee.org)
%% GitHub: https://github.com/Digital-Media/HagenbergThesis
%% File encoding: UTF-8
%%
%% This file defines the parent theme for all thesis types.

\RequirePackage{forloop}
\RequirePackage{tikz}

%% Initialization (optional) ----------------------.....-----------------------

\AddToHook{hgb@InitThemeHook}{%
	\typeout{hgbtheme-thesis: initializing theme}%
	% add initialization code if needed
}%

%% Structure of front pages ---------------------------------------------------

\renewcommand{\hgb@MakeFrontPages}{  %% stub defined in hgbthesis.cls, must be redefined here!
  \hgb@MakeTitlePage%
	\ifthenelse{\boolean{hgb@IsProposal}}%
		{}%
		{%
			\hgb@MakeCopyrightPage%
			\hgb@MakeDeclarationPage%
		}%
}

%% Title page ---------------------------------------------------

\newcommand{\hgb@MakeTitlePage}{%
\begin{titlepage}%
		\newgeometry{top=0mm,bottom=14mm,right=14mm,left=14mm}
		\setlength{\parindent}{0pt}
		% background image -----------------------------------------
		\AddToHookNext{shipout/background}{
			\begin{tikzpicture}[remember picture,overlay]
				\node at (current page.center) {
		  			\includegraphics{fhooe-cover}
				};
			\end{tikzpicture}
		}

		%\rule{0mm}{10mm}%
		\vspace*{98mm}%
		%\begin{center}%
			\hgb@TitlePageFont%
			\setlength{\unitlength}{1cm}%
			% author --------------------------------------------------
			{\Large\hgb@Author\par}%
			\vskip 14mm%
			% title --------------------------------------------------
			\parbox[c][56mm][t]{140mm}{%
				\raggedright%
				%\centering%
				{\huge\bfseries\linespread{1.0}\selectfont\hgb@Title\par}%
				\vskip 7mm%
				{\LARGE\bfseries\linespread{1.0}\selectfont\hgb@SubTitle\par}%
			}
			%\vskip 10mm%
			% logo --------------------------------------------------
			%\hgb@MakeLogo%
			\vskip 0mm%
			% thesis type ---------------------------------------------
      {\Large\@addspaces{\MakeUppercase{\hgb@ThesisName}}%
        \ifthenelse{\boolean{hgb@IsProposal}}{\space\space(\@addspaces{\MakeUppercase{\tmp@ProposalName}})}{}\par}
			\vskip 14mm%
			% program type ---------------------------------
      %{\large \hgb@ProgramType}%
			%\vskip 4mm%
			% program name ---------------------------------
			{\large\hgb@ProgramName\par}%
			\vskip 0mm%
      % place of study  ---------------------------------
			{\large\hgb@Institution\par}%
			\vskip 4mm%
				{\large\hgb@PlaceOfStudy\par}%
			\vskip 8mm%
				{\large\hgb@SubmissionYear\par}%
			\vskip 0mm%
      % advisors(s) -------------------------------------
      \parbox[c][28mm][b]{\textwidth}{%
				%\centering\large\tabcolsep0.25em%
        \ifthenelse{\hgb@AdvisorCount > 0}%
          {\@makeAdvisorTable}% defined below
          {\color{red}No advisor(s) specified!\\}%
      }
			%{\large Betreuung:}\\[2mm]{\Large\hgb@Advisor}%
			%\vskip 14mm%
      % submission date ---------------------------------
      
		%\end{center}%
		%\vfil%
	\restoregeometry%
\end{titlepage}%
}

\newcommand{\@makeAdvisorTable}{%
  \newcounter{C}%
  \begin{tabular}{@{}ll@{}}%
    \forloop{C}{1}{\not{\value{C} > \hgb@AdvisorCount}}{%   see 'forloop' package
      \hgb@getAdvisorRole{\theC}: & \hgb@getAdvisorName{\theC}%
      \ifthenelse{\value{C} < \hgb@AdvisorCount}{\\}{}% avoid extra \\ in last line!
    }%
  \end{tabular}%
}

%% Generation of logo ----------------------------------------

\newlength{\hgb@LogoHeight}
\setlength{\hgb@LogoHeight}{30mm}

\newcommand{\hgb@MakeLogo}[0]{%
\ifthenelse{\equal{\hgb@LogoFile}{}}%	check if \hgb@LogoFile is empty (unspecified)
	{\vspace*{\hgb@LogoHeight}}%			skip logo
	{\includegraphics[height=\hgb@LogoHeight]{\hgb@LogoFile}}%	insert logo
}

% Default Advisor Page ----------------------------------------

%\newcommand{\hgb@AdvisorHeaderFinal}{
	%\ifthenelse{\equal{\hgb@TitleLanguage}{german}}%
			%{Betreuung}%
			%{Advisor}%
%}
%
%\newcommand{\hgb@AdvisorHeaderProposal}{
	%\ifthenelse{\equal{\hgb@TitleLanguage}{german}}%
			%{Betreuung (Vorschlag)}%
			%{Proposed Advisor}%
%}
%
%\newcommand{\hgb@MakeAdvisorPage}{%
	%\ifthenelse{\equal{\hgb@Advisor}{}}%	does nothing if advisor is undefined 
		%{}{%
		%\newpage
		%%\setcounter{page}{2}
		%\thispagestyle{plain}
		%\rule{0mm}{1mm}
		%\vspace{90mm}
		%\begin{center}
			%\ifthenelse{\boolean{hgb@IsProposal}}%
				%{\hgb@AdvisorHeaderProposal:}%
				%{\hgb@AdvisorHeaderFinal:}%
			%\\
			%\vspace{5mm} 
      %{\Large\sffamily\hgb@Advisor}
		%\end{center}
		%}
%}

%% Default Copyright/License page ----------------------------------------


\newcommand{\hgb@StrictLicenseDE}{Alle Rechte vorbehalten}
\newcommand{\hgb@StrictLicenseEN}{All Rights Reserved}

\newcommand{\hgb@StrictLicense}{%
\ifthenelse{\equal{\hgb@TitleLanguage}{german}}%
	{\begin{german}\hgb@StrictLicenseDE\end{german}}
	{\begin{english}\hgb@StrictLicenseEN\end{english}}
}

%% ------

\newcommand{\hgb@ccLicenseDE}{%
Diese Arbeit wird unter den Bedingungen der \textsf{Creative Commons Lizenz} 
\emph{Attribution-NonCommercial-NoDerivatives 4.0 International} (CC BY-NC-ND 4.0) 
veröffentlicht -- siehe \url{https://creativecommons.org/licenses/by-nc-nd/4.0/}.
}

\newcommand{\hgb@ccLicenseEN}{%
This work is published under the conditions of the \textsf{Creative Commons License} 
\emph{Attribution-NonCommercial-NoDerivatives 4.0 International} (CC BY-NC-ND 4.0)%
---see \url{https://creativecommons.org/licenses/by-nc-nd/4.0/}.
}

\newcommand{\hgb@ccLicense}{%
\ifthenelse{\equal{\hgb@TitleLanguage}{german}}%
	{\begin{german}\hgb@ccLicenseDE\end{german}}
	{\begin{english}\hgb@ccLicenseEN\end{english}}
}

%% ------

\newcommand{\hgb@TheLicense}{%
\ifthenelse{\equal{\hgb@license}{strict}}%
  {\hgb@StrictLicense}%
  {\hgb@ccLicense}%
}

\newcommand{\hgb@MakeCopyrightPage}{%
  \newpage
  \thispagestyle{plain}
  \rule{0mm}{1mm}
  \vspace*{75mm}
  \begin{center}
  \textsf{\copyright\ Copyright\ \hgb@SubmissionYear\ \hgb@Author}
  \end{center}
  \vspace{8mm}
  \hgbJustifyOrCenter{\hgb@TheLicense} % defined in hgb.sty
}

%% Default Declaration Page ----------------------------------------

\newcommand{\hgb@DeclarationTextDE}{%
  Ich erkläre eidesstattlich, dass ich die vorliegende Arbeit selbstständig und ohne fremde Hilfe verfasst, 
  andere als die angegebenen Quellen nicht benutzt und die den benutzten Quellen entnommenen Stellen als 
  solche gekennzeichnet habe. Die Arbeit wurde bisher in gleicher oder ähnlicher Form keiner anderen 
  Prüfungsbehörde vorgelegt.
  Die vorliegende, gedruckte Arbeit ist mit dem elektronisch übermittelten Textdokument identisch.
}

\newcommand{\hgb@DeclarationTextEN}{%
  I hereby declare and confirm that this thesis is entirely the result of my own original work. 
  Where other sources of information have been used, they have been indicated as such and properly 
  acknowledged. I further declare that this or similar work has not been submitted for credit elsewhere.
  This printed copy is identical to the submitted electronic version.
}

\newcommand{\hgb@MakeDeclarationPage}{
		\chapter{\hgbDictionaryGet{declaration}{\hgb@TitleLanguage}}
		\noindent%
    \ifthenelse{\equal{\hgb@TitleLanguage}{german}}%
      {\begin{german}\hgb@DeclarationTextDE\end{german}}
      {\begin{english}\hgb@DeclarationTextEN\end{english}}
		\par
		\vspace{10mm}
		\noindent
    \def\@monthname{\hgb@GetMonthName{\hgb@TitleLanguage}{\hgb@SubmissionMonth}}%
    \ifthenelse{\equal{\hgb@TitleLanguage}{german}}%
      {\hgb@PlaceOfStudy, am 
        \hgb@SubmissionDay.~%
        \@monthname~%
        \hgb@SubmissionYear%
			}
      {\hgb@PlaceOfStudy, 
        \hgb@SubmissionDay~%
        \@monthname~%
        \hgb@SubmissionYear%
			}
		\par
		\vspace{12mm}
		\noindent
		\hgb@Author
}
