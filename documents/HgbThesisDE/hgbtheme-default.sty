%% This file is part of the Hagenberg Thesis package
%% Author: Wilhelm Burger (wilbur@ieee.org)
%% GitHub: https://github.com/Digital-Media/HagenbergThesis
%% File encoding: UTF-8

%% Initialization (optional) --------------------------------------------------

% Set logo file if unspecified (and not empty):
\ifthenelse{\equal{\hgb@LogoFile}{@unspecified}}%
	{\renewcommand{\hgb@LogoFile}{hgbtheme-default-logo.pdf}}{}%

\AddToHook{hgb@InitThemeHook}{%
	\typeout{hgbtheme-legacy: initializing theme}%
	% add initialization code if neede
}%

%% Structure of front pages ---------------------------------------------------
  
\renewcommand{\hgb@MakeFrontPages}{  %% stub defined in hgbthesis.cls, must be redefined here!
  \hgb@MakeTitlePage%
	\ifthenelse{\boolean{hgb@IsProposal}}%
		{%	thesis proposal:
			\hgb@MakeAdvisorPage%     no copyright/declaration page for proposals
		}%			
		{%	final thesis:
			\hgb@MakeAdvisorPage%
			\hgb@MakeCopyrightPage%
			\hgb@MakeDeclarationPage%
		}%
}

%% Title page ---------------------------------------------------

\newcommand{\hgb@MakeTitlePage}{%
\begin{titlepage}%
	\begin{german}
		\rule{0mm}{1mm}%
		\vspace*{0mm}%
		\begin{center}%
			\hgb@TitlePageFont%
			\setlength{\unitlength}{1cm}%
			\parbox[c][5cm][c]{12cm}{%
				\centering\LARGE\bfseries%
				\setlength{\baselineskip}{25pt}%
				\hgb@Title%
			}
			\vskip 15mm%
			{\large\hgb@Author}%
			\vskip 15mm%
			\hgb@MakeLogo%
			\vskip 15mm%
			% ---------------------------------         
      {\Large\@addspaces{\MakeUppercase{\hgb@ThesisName}}%
        \ifthenelse{\boolean{hgb@IsProposal}}
          {\space\space(\@addspaces{\MakeUppercase{\hgbDictionaryGet{proposalname}{\hgb@TitleLanguage}}})}{}}
      % ---------------------------------
			\vskip 4mm%
			%
			{\large eingereicht am} \vskip 1mm {\hgb@ProgramType}%
			\vskip 4mm%
			{\large\hgb@ProgramName}%
			\vskip 4mm%
      % -------------------
      {\large in \hgb@PlaceOfStudy}%
      % -------------------
			\vskip 16mm%
      {\large im \DTMgermanmonthname{\DTMfetchmonth{hgb@DateOfSubmission}} \DTMfetchyear{hgb@DateOfSubmission}}%
		\end{center}%
		\vfil%
  \end{german}
\end{titlepage}%
}

%% Generation of logo ----------------------------------------

\newlength{\hgb@LogoHeight}
\setlength{\hgb@LogoHeight}{30mm}

\newcommand{\hgb@MakeLogo}[0]{%
\ifthenelse{\equal{\hgb@LogoFile}{}}%	check if \hgb@LogoFile is empty (unspecified)
	{\vspace*{\hgb@LogoHeight}}%			skip logo
	{\includegraphics[height=\hgb@LogoHeight]{\hgb@LogoFile}}%	insert logo
}

% Default Advisor Page ----------------------------------------

\newcommand{\hgb@MakeAdvisorPage}{%
	\ifthenelse{\equal{\hgb@Advisor}{}}%	does nothing if advisor is undefined 
		{}{%
		\newpage
		%\setcounter{page}{2}
		\thispagestyle{plain}
		\rule{0mm}{1mm}
		\vspace{90mm}
		\begin{center}
			\hgbDictionaryGet{advisorheader}{\hgb@TitleLanguage}%
			%\ifthenelse{\boolean{hgb@IsProposal}}%
				%{\hgb@AdvisorHeaderProposal:}%
				%{\hgb@AdvisorHeaderFinal:}%
			\\
			\vspace{3mm} 
      {\Large\sffamily\hgb@Advisor}	% TODO: list multiple advisors!
		\end{center}
		}
}

%% Default Copyright/License page ----------------------------------------

\newcommand{\hgb@MakeCopyrightPage}{%
  \newpage
  \thispagestyle{plain}
  \rule{0mm}{1mm}
  \vspace*{75mm}
  \begin{center}
  \textsf{\copyright\ Copyright\ \DTMfetchyear{hgb@DateOfSubmission} \hgb@Author}
  \end{center}
  \vspace{8mm}
  \hgbJustifyOrCenter{\hgbDictionaryGet{\hgb@License}{\hgb@TitleLanguage}} % defined above
}

%% Default Declaration Page ----------------------------------------

\newcommand{\hgb@MakeDeclarationPage}{
    \chapter{\hgbDictionaryGet{declarationtitle}{\hgb@TitleLanguage}}
		\noindent%
		\hgbDictionaryGet{declarationtext}{\hgb@TitleLanguage}
		\par
		\vspace{10mm}
		\noindent
    \ifthenelse{\equal{\hgb@TitleLanguage}{german}}%
      {\hgb@PlaceOfStudy, am 
        \DTMfetchday{hgb@DateOfSubmission}.~%
        \DTMgermanmonthname{\DTMfetchmonth{hgb@DateOfSubmission}}~%
        \DTMfetchyear{hgb@DateOfSubmission}}
      {\hgb@PlaceOfStudy, 
        \DTMenglishmonthname{\DTMfetchmonth{hgb@DateOfSubmission}}~%
        \DTMfetchday{hgb@DateOfSubmission},
        \DTMfetchyear{hgb@DateOfSubmission}}
		\par
		\vspace{12mm}
		\noindent
		\hgb@Author
}

