%% hgbtheme-bachelor.sty
%% This file is part of the Hagenberg Thesis package for creating bachelors's and masters's theses
%% Author: Wilhelm Burger (wilbur@ieee.org)
%% GitHub: https://github.com/Digital-Media/HagenbergThesis
%% File encoding: ASCII

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{hgbtheme-thesis}[2023/10/26]%%AUTO

%% This is a 'theme' file which specifies the layout and arrangement of the
%% document's front pages.

% required parameters:
  % \@titlepagefont
  % \@programtype
  % \@programname
  % \@placeofstudy
  % @dateofsubmission
  % \hgb@TitleLanguage
  % @hgbisproposal (boolean)

%% -----------------------
  
\renewcommand{\hgb@makefrontpages}{  %% rename without @ to indicate it is documented
  \@maketitlepage%
	\ifthenelse{\boolean{@hgbisproposal}}%
		{%	thesis proposal:
			\@advisorpage%      predefined in hgbthesis.cls
			%no copyright/declaration page for proposals
		}%			
		{%	final thesis:
			\@advisorpage%      predefined in hgbthesis.cls
			\@copyrightpage%    predefined in hgbthesis.cls
			\@declarationpage%  predefined in hgbthesis.cls
		}%
}

%% -----------------------

%% REQUIRED - Specifies the contents and layout of the title page:

\newcommand{\@maketitlepage}{%
\begin{titlepage}%
	\begin{german}
		\rule{0mm}{1mm}%
		\vspace*{0mm}%
		\begin{center}%
			\@titlepagefont%
			\setlength{\unitlength}{1cm}%
			\parbox[c][5cm][c]{12cm}{%
				\centering\LARGE\bfseries%
				\setlength{\baselineskip}{25pt}%
				\@title%
			}
			\vskip 15mm%
			{\large\@author}%
			\vskip 15mm%
			\makelogo%
			\vskip 15mm%
			%
      {\Large \@addspaces{\MakeUppercase{\hgb@ThesisName}}%
        \ifthenelse{\boolean{@hgbisproposal}}{\MakeUppercase{\space (\hgbProposalNameDE)}}{}%
      }
      %
			\vskip 4mm%
			%
			{\large eingereicht am} \vskip 1mm {\@programtype}%
			\vskip 4mm%
			{\large\@programname}%
			\vskip 4mm%
			{\large der \@institution\ in \@placeofstudy}%
			\vskip 16mm%
      {\large im \DTMgermanmonthname{\DTMfetchmonth{@dateofsubmission}} \DTMfetchyear{@dateofsubmission}}%
		\end{center}%
		\vfil%
	\end{german}
\end{titlepage}%
}

% Default Advisor Page ----------------------------------------

\newcommand{\@advisorheaderfinal}{
	\ifthenelse{\equal{\hgb@MainLanguage}{german}}%
			{Betreuung}%
			{Advisor}%
}

\newcommand{\@advisorheaderproposal}{
	\ifthenelse{\equal{\hgb@MainLanguage}{german}}%
			{Betreuung (Vorschlag)}%
			{Proposed Advisor}%
}

\renewcommand{\@advisorpage}{%
	\ifthenelse{\equal{\@advisor}{}}%	does nothing if advisor is undefined 
		{}{%
		\newpage
		\setcounter{page}{2}
		\thispagestyle{plain}
		\rule{0mm}{1mm}
		\vspace{90mm}
		\begin{center}
			\ifthenelse{\boolean{@hgbisproposal}}%
				{\@advisorheaderproposal:}%
				{\@advisorheaderfinal:}%
			\\
			\vspace{3mm} 
			{\Large\sf \@advisor\\ \mbox{}}
		\end{center}
		}
}

%% Default Copyright page ----------------------------------------

\renewcommand{\@copyrightpage}{%
  \newpage
  %\setcounter{page}{2}
  \thispagestyle{plain}
  \rule{0mm}{1mm}
  \vspace*{75mm}
  \begin{center}
  \textsf{\copyright\ Copyright\ \DTMfetchyear{@dateofsubmission} \@author}
  \end{center}
  \vspace{8mm}
  \@makelicense
}


%% Default Declaration Page ----------------------------------------

\newcommand{\hgb@DeclarationTitleDE}{Erklärung}
\newcommand{\hgb@DeclarationTextDE}{%
  Ich erkläre eidesstattlich, dass ich die vorliegende Arbeit selbstständig und ohne fremde Hilfe verfasst, 
  andere als die angegebenen Quellen nicht benutzt und die den benutzten Quellen entnommenen Stellen als 
  solche gekennzeichnet habe. Die Arbeit wurde bisher in gleicher oder ähnlicher Form keiner anderen 
  Prüfungsbehörde vorgelegt.
  Die vorliegende, gedruckte Arbeit ist mit dem elektronisch übermittelten Textdokument identisch.
}

\newcommand{\hgb@DeclarationTitleEN}{Declaration}
\newcommand{\hgb@DeclarationTextEN}{%
  I hereby declare and confirm that this thesis is entirely the result of my own original work. 
  Where other sources of information have been used, they have been indicated as such and properly 
  acknowledged. I further declare that this or similar work has not been submitted for credit elsewhere.
  This printed copy is identical to the submitted electronic version.
}

%% TODO: again this does not work because of expansion issuses in \chapter
%\newcommand{\hgb@DeclarationTitle}{
  %\ifthenelse{\equal{\hgb@MainLanguage}{german}}  %\hgb@TitleLanguage
    %{\hgb@DeclarationTitleDE}%
    %{\hgb@DeclarationTitleEN}
%}
%
%\newcommand{\hgb@DeclarationText}{
  %\ifthenelse{\equal{\hgb@MainLanguage}{german}}
    %{\hgb@DeclarationTextDE}
    %{\hgb@DeclarationTextEN}
%}

\renewcommand{\@declarationpage}{
		%\chapter{\hgb@DeclarationTitleEN}%   expansion issuses!
    \ifthenelse{\equal{\hgb@TitleLanguage}{german}}%
      {\chapter{\hgb@DeclarationTitleDE}}
      {\chapter{\hgb@DeclarationTitleEN}}
		\noindent%
    \ifthenelse{\equal{\hgb@TitleLanguage}{german}}%
      {\begin{german}\hgb@DeclarationTextDE\end{german}}
      {\begin{english}\hgb@DeclarationTextEN\end{english}}
		\par
		\vspace{10mm}
		\noindent
    \ifthenelse{\equal{\hgb@TitleLanguage}{german}}%
      {\@placeofstudy, am 
        \DTMfetchday{@dateofsubmission}.~%
        \DTMgermanmonthname{\DTMfetchmonth{@dateofsubmission}}~%
        \DTMfetchyear{@dateofsubmission}}
      {\@placeofstudy, 
        \DTMfetchday{@dateofsubmission}~%
        \DTMenglishmonthname{\DTMfetchmonth{@dateofsubmission}}~%
        \DTMfetchyear{@dateofsubmission}}
		\par
		\vspace{12mm}
		\noindent
		\@author
}

